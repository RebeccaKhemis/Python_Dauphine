import tkinter as tk
from tkinter import simpledialog

class Carnet_dOrdre:

    def __init__(self):
        self.type_dOrdre = None
        self.quantite = None
        self.option = None
        self.achat = [[], []]  # Quantités et prix d'achat
        self.vente = [[], []]  # Quantités et prix de vente

    def show_input_box(self):
        # Reste du code pour collecter les inputs utilisateur...
        
        # Une fois les inputs collectés, on appelle simulateur
        self.simulateur()

    def simulateur(self):
        qté = self.quantite
        ordre = self.option
        type_ordre = self.type_dOrdre

        if type_ordre == "vente":
            if ordre == "marché":
                while qté > 0 and self.achat[0]:  # Assure que la liste achat n'est pas vide
                    if qté >= self.achat[0][0]:
                        qté -= self.achat[0][0]
                        self.achat[0].pop(0)
                        self.achat[1].pop(0)
                    else:
                        self.achat[0][0] -= qté
                        qté = 0
            else:  # Limite pour vente
                limite = float(simpledialog.askstring("Input", "Saisir la limite de prix auquel vous ne voulez plus vendre"))
                
                # Ajout simplifié pour l'exemple, la logique complète dépend de votre besoin
                self.vente[1].append(limite)
                self.vente[0].append(qté)

        else:  # Cas où type_ordre est 'achat', logique similaire à implémenter

        # Ici vous pourriez vouloir imprimer ou afficher l'état actuel des listes achat et vente
        print("Achats:", self.achat)
        print("Ventes:", self.vente)

# Reste du code pour la fenêtre Tkinter...
